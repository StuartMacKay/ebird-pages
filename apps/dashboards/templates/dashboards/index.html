{% extends "page.html" %}
{% load charts i18n numbers static tables %}

{% block language_selector %}
  <li><a class="dropdown-item"
         href="{% url 'index' %}{% querystring %}">{{ lang_name }}</a></li>
{% endblock %}

{% block title %}{% trans 'In the past week' %}{% endblock %}

{% block content %}
  <div>
    <div class="d-flex align-items-center border-bottom pb-3 mb-4">
      <div>
        <a class="btn btn-link link-dark bg-light text-decoration-none me-2" href="{% querystring report='daily' date=today %}">
          {% trans 'Today' %}
        </a>
      </div>
      <div>
        <a class="btn btn-link link-dark bg-light" href="{% querystring report=report date=before %}">
          <i class="bi bi-chevron-left"></i>
        </a>
        <a class="btn btn-link link-dark bg-light me-3" href="{% querystring report=report date=after %}">
          <i class="bi bi-chevron-right"></i>
        </a>
      </div>
      <div>
        <a href="#" class="dark-link disabled">
          <span class="h5">{{ interval }}</span>
        </a>
      </div>
      <div class="ms-auto me-3">
        <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            {{ report|capfirst }}
          </button>
          <ul class="dropdown-menu">
            {% for report, name in reports %}
              <li><a class="dropdown-item" href="{% url 'index' %}{% querystring report=report %}">{{ name }}</a></li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    {% if submissions == 0 %}
      {% include "dashboards/empty.html" %}
    {% elif report == 'daily' %}
      {% include "dashboards/daily.html" %}
    {% elif report == 'weekly' %}
      {% include "dashboards/weekly.html" %}
    {% elif report == 'monthly' %}
      {% include "dashboards/monthly.html" %}
    {% elif report == 'yearly' %}
      {% include "dashboards/yearly.html" %}
    {% endif %}
  </div>
{% endblock content %}
